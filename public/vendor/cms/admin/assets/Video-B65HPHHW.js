import v from"./File-BV0MxLWa.js";import{_ as $,c as f,a as o,b as r,w as t,V as m,r as g,T as V,F as C,o as i,d as u,e as d,f as F,n as b,g as U,h as p,i as w,j as D,k as s,t as n}from"../index.js";import"./FileListItems-MigusJ7k.js";import"./utils-DxnQAr0v.js";import"./FileDialog-DgBVR8x_.js";const B={extends:v,setup(){return{...v.setup()}}},A=["src"],N={key:1,class:"file"};function L(e,l,R,T,I,S){const y=g("FileDialog"),k=g("FileUrlDialog");return i(),f(C,null,[o(m,null,{default:t(()=>[o(d,{cols:"12",md:"6"},{default:t(()=>[F("div",{class:b(["files",{readonly:e.readonly}])},[e.file.path?(i(),f("div",{key:0,class:"file",onClick:l[1]||(l[1]=a=>e.open(e.file))},[e.file.uploading?(i(),r(U,{key:0,color:"primary",height:"5",indeterminate:"",rounded:""})):u("",!0),e.file.path?(i(),f("video",{key:1,ref:"video",draggable:!1,src:e.url(e.file.path),crossorigin:"anonymous",controls:""},null,8,A)):u("",!0),!e.readonly&&e.file.path?(i(),r(p,{key:2,title:e.$gettext("Remove file"),onClick:l[0]||(l[0]=w(a=>e.remove(),["stop"])),icon:"mdi-trash-can",class:"btn-overlay",variant:"flat"},null,8,["title"])):u("",!0)])):e.readonly?u("",!0):(i(),f("div",N,[e.auth.can("file:view")?(i(),r(p,{key:0,onClick:l[2]||(l[2]=a=>e.vfiles=!0),title:e.$gettext("Add file"),icon:"mdi-button-cursor",variant:"flat"},null,8,["title"])):u("",!0),o(p,{onClick:l[3]||(l[3]=a=>e.vurls=!0),title:e.$gettext("Add file from URL"),icon:"mdi-link-variant-plus",variant:"flat"},null,8,["title"]),o(p,{title:e.$gettext("Upload file"),icon:"mdi-upload",variant:"flat"},{default:t(()=>[o(D,{modelValue:e.selected,"onUpdate:modelValue":[l[4]||(l[4]=a=>e.selected=a),l[5]||(l[5]=a=>e.add(a))],accept:e.config.accept||"video/*","hide-input":!0,"prepend-icon":"mdi-upload"},null,8,["modelValue","accept"])]),_:1},8,["title"])]))],2)]),_:1}),e.file.path?(i(),r(d,{key:0,cols:"12",md:"6",class:"meta"},{default:t(()=>[o(m,null,{default:t(()=>[o(d,{cols:"12",md:"3",class:"name"},{default:t(()=>[s(n(e.$gettext("name"))+":",1)]),_:1}),o(d,{cols:"12",md:"9"},{default:t(()=>[s(n(e.file.name),1)]),_:1})]),_:1}),o(m,null,{default:t(()=>[o(d,{cols:"12",md:"3",class:"name"},{default:t(()=>[s(n(e.$gettext("mime"))+":",1)]),_:1}),o(d,{cols:"12",md:"9"},{default:t(()=>[s(n(e.file.mime),1)]),_:1})]),_:1}),o(m,null,{default:t(()=>[o(d,{cols:"12",md:"3",class:"name"},{default:t(()=>[s(n(e.$gettext("editor"))+":",1)]),_:1}),o(d,{cols:"12",md:"9"},{default:t(()=>[s(n(e.file.editor),1)]),_:1})]),_:1}),o(m,null,{default:t(()=>[o(d,{cols:"12",md:"3",class:"name"},{default:t(()=>[s(n(e.$gettext("updated"))+":",1)]),_:1}),o(d,{cols:"12",md:"9"},{default:t(()=>[s(n(new Date(e.file.updated_at).toLocaleString()),1)]),_:1})]),_:1})]),_:1})):u("",!0)]),_:1}),(i(),r(V,{to:"body"},[o(y,{modelValue:e.vfiles,"onUpdate:modelValue":l[6]||(l[6]=a=>e.vfiles=a),onAdd:l[7]||(l[7]=a=>{e.handle(a),e.vfiles=!1}),filter:{mime:"video/"}},null,8,["modelValue"])])),(i(),r(V,{to:"body"},[o(k,{modelValue:e.vurls,"onUpdate:modelValue":l[8]||(l[8]=a=>e.vurls=a),onAdd:l[9]||(l[9]=a=>{e.select(a),e.vurls=!1}),mime:"video/"},null,8,["modelValue"])]))],64)}const q=$(B,[["render",L],["__scopeId","data-v-729dc66b"]]);export{q as default};
