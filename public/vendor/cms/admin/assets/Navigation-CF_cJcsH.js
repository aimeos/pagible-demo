import{_ as P,be as b,bf as e,aB as y,a4 as w,a1 as O,bg as $,c as V,a,b as _,d as f,w as i,j as A,F as h,o as n,aa as L,a3 as j,ab as d,h as E,l as p,t as m,I as D,aF as k,aP as R,aQ as C,P as x,r as S,H as I}from"../index.js";const N={data:()=>({user:null}),setup(){const t=y(),r=w(),v=O(),l=$();return{auth:v,i18n:l,languages:t,messages:r}},created(){this.auth.user().then(t=>{this.user=t}).catch(t=>{this.messages.add(this.$gettext("Failed to load user"),"error")})},methods:{logout(){this.auth.logout().then(()=>{this.user=null,this.$router.replace("/")}).catch(t=>{this.messages.add(this.$gettext("Logout failed"),"error")})},change(t){b(Object.assign({"../../i18n/ar.json":()=>e(()=>import("./ar-C4J4Qpn_.js"),[],import.meta.url),"../../i18n/bg.json":()=>e(()=>import("./bg-CmVjgeR4.js"),[],import.meta.url),"../../i18n/cs.json":()=>e(()=>import("./cs-C5qIkHDq.js"),[],import.meta.url),"../../i18n/da.json":()=>e(()=>import("./da-CKou2tKb.js"),[],import.meta.url),"../../i18n/de.json":()=>e(()=>import("./de-Db8kXtT5.js"),[],import.meta.url),"../../i18n/el.json":()=>e(()=>import("./el-TTh_LRoi.js"),[],import.meta.url),"../../i18n/en.json":()=>e(()=>import("./en-wdq2j_uI.js"),[],import.meta.url),"../../i18n/es.json":()=>e(()=>import("./es-B-Aj8P_Z.js"),[],import.meta.url),"../../i18n/et.json":()=>e(()=>import("./et-IYpqBDZk.js"),[],import.meta.url),"../../i18n/fi.json":()=>e(()=>import("./fi-gWurI7SL.js"),[],import.meta.url),"../../i18n/fr.json":()=>e(()=>import("./fr-CQja2De_.js"),[],import.meta.url),"../../i18n/he.json":()=>e(()=>import("./he-B4TzL6y2.js"),[],import.meta.url),"../../i18n/hu.json":()=>e(()=>import("./hu-BupnwBVg.js"),[],import.meta.url),"../../i18n/id.json":()=>e(()=>import("./id-DYQYYPYE.js"),[],import.meta.url),"../../i18n/it.json":()=>e(()=>import("./it-BH1yxOfF.js"),[],import.meta.url),"../../i18n/ja.json":()=>e(()=>import("./ja-BMY_7Zif.js"),[],import.meta.url),"../../i18n/ko.json":()=>e(()=>import("./ko-DI68AHQ2.js"),[],import.meta.url),"../../i18n/lt.json":()=>e(()=>import("./lt-D4kZIYIl.js"),[],import.meta.url),"../../i18n/lv.json":()=>e(()=>import("./lv-Df7xhz6u.js"),[],import.meta.url),"../../i18n/nl.json":()=>e(()=>import("./nl-dxWkLuGe.js"),[],import.meta.url),"../../i18n/no.json":()=>e(()=>import("./no-C6URGyFG.js"),[],import.meta.url),"../../i18n/pl.json":()=>e(()=>import("./pl-B9P6zc0P.js"),[],import.meta.url),"../../i18n/pt.json":()=>e(()=>import("./pt-DQVcRj2L.js"),[],import.meta.url),"../../i18n/ro.json":()=>e(()=>import("./ro-BHV7cRMf.js"),[],import.meta.url),"../../i18n/ru.json":()=>e(()=>import("./ru-CLjP13Yk.js"),[],import.meta.url),"../../i18n/sk.json":()=>e(()=>import("./sk-D7MjHccx.js"),[],import.meta.url),"../../i18n/sl.json":()=>e(()=>import("./sl-BSh0NfqG.js"),[],import.meta.url),"../../i18n/sv.json":()=>e(()=>import("./sv-CQYm5oZj.js"),[],import.meta.url),"../../i18n/th.json":()=>e(()=>import("./th-DuPsi_hi.js"),[],import.meta.url),"../../i18n/tr.json":()=>e(()=>import("./tr-mVDTa0P7.js"),[],import.meta.url),"../../i18n/uk.json":()=>e(()=>import("./uk--8cnZm8u.js"),[],import.meta.url),"../../i18n/vi.json":()=>e(()=>import("./vi-DpDnmdu1.js"),[],import.meta.url),"../../i18n/zh.json":()=>e(()=>import("./zh-BovftSA2.js"),[],import.meta.url)}),`../../i18n/${t}.json`,4).then(r=>{this.i18n.translations=r.default||r,this.$vuetify.locale.current=t,this.i18n.current=t})}}};function U(t,r,v,l,g,u){return n(),V(h,null,[a(A,null,{activator:i(({props:o})=>[a(E,D(o,{title:t.$gettext("Switch language"),icon:"mdi-web",class:"icon"}),null,16,["title"])]),default:i(()=>[a(L,null,{default:i(()=>[(n(!0),V(h,null,j(l.i18n.available,(o,s)=>(n(),_(d,{key:s},{default:i(()=>[a(E,{onClick:c=>u.change(s),variant:"text"},{default:i(()=>[p(m(l.languages.translate(s))+" ("+m(s)+")",1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1}),t.user?(n(),_(A,{key:0},{activator:i(({props:o})=>[a(E,D(o,{title:t.$gettext("User menu"),icon:"mdi-account-circle-outline",class:"icon"}),null,16,["title"])]),default:i(()=>[a(L,null,{default:i(()=>{var o;return[(o=t.user)!=null&&o.name?(n(),_(d,{key:0},{default:i(()=>[p(m(t.user.name),1)]),_:1})):f("",!0),a(d,null,{default:i(()=>[a(E,{"prepend-icon":"mdi-logout",onClick:r[0]||(r[0]=s=>u.logout()),variant:"text",class:"menu-item"},{default:i(()=>[p(m(t.$gettext("Logout")),1)]),_:1})]),_:1})]}),_:1})]),_:1})):f("",!0)],64)}const z=P(N,[["render",U],["__scopeId","data-v-a1b15c54"]]),B={props:{content:{type:Array,required:!0},filter:{type:Object,required:!0}},emits:["update:filter"],setup(){return{drawer:k()}},data(){return{open:[]}},created(){this.open=this.content.map((t,r)=>this.has(t.key)?r:!1).filter(t=>t!==!1)},methods:{active(t){for(const r in t.value)if(this.filter[r]!==t.value[r])return!1;return!0},has(t){return this.filter[t]!==null},toggle(t){for(const r in t.value)this.filter[r]=t.value[r];this.$emit("update:filter",this.filter)}}};function F(t,r,v,l,g,u){return n(),_(R,{modelValue:l.drawer.aside,"onUpdate:modelValue":r[1]||(r[1]=o=>l.drawer.aside=o),"mobile-breakpoint":"md",location:"end"},{default:i(()=>[a(L,{opened:g.open,"onUpdate:opened":r[0]||(r[0]=o=>g.open=o)},{default:i(()=>[(n(!0),V(h,null,j(v.content,(o,s)=>(n(),_(C,{key:s,value:s},{activator:i(({props:c})=>[a(d,D({ref_for:!0},c,{class:{active:u.has(o.key)}}),{default:i(()=>[p(m(o.title||o.key),1)]),_:2},1040,["class"])]),default:i(()=>[(n(!0),V(h,null,j(o.items||[],(c,T)=>(n(),_(d,{active:u.active(c),key:T,rounded:"lg"},{default:i(()=>[a(E,{onClick:H=>u.toggle(c),"prepend-icon":c.icon,variant:"text"},{default:i(()=>[p(m(c.title),1)]),_:2},1032,["onClick","prepend-icon"])]),_:2},1032,["active"]))),128))]),_:2},1032,["value"]))),128))]),_:1},8,["opened"])]),_:1},8,["modelValue"])}const Q=P(B,[["render",F],["__scopeId","data-v-070f809b"]]),q={setup(){const{mobile:t}=x(),r=k();return{auth:O(),drawer:r,mobile:t}},methods:{toggle(){this.mobile&&(this.drawer.nav=!this.drawer.nav)}}};function G(t,r,v,l,g,u){const o=S("router-link");return n(),_(R,{modelValue:l.drawer.nav,"onUpdate:modelValue":r[3]||(r[3]=s=>l.drawer.nav=s),location:"start","mobile-breakpoint":"lg"},{default:i(()=>[a(L,null,{default:i(()=>[l.auth.can("page:view")?(n(),_(d,{key:0,rounded:"lg"},{default:i(()=>[a(I,{icon:"mdi-file-tree",class:"icon"}),a(o,{to:"/pages",class:"router-link",onClick:r[0]||(r[0]=s=>u.toggle())},{default:i(()=>[p(m(t.$gettext("Pages")),1)]),_:1})]),_:1})):f("",!0),l.auth.can("element:view")?(n(),_(d,{key:1,rounded:"lg"},{default:i(()=>[a(I,{icon:"mdi-share-variant",class:"icon"}),a(o,{to:"/elements",class:"router-link",onClick:r[1]||(r[1]=s=>u.toggle())},{default:i(()=>[p(m(t.$gettext("Shared elements")),1)]),_:1})]),_:1})):f("",!0),l.auth.can("file:view")?(n(),_(d,{key:2,rounded:"lg"},{default:i(()=>[a(I,{icon:"mdi-folder-multiple-image",class:"icon"}),a(o,{to:"/files",class:"router-link",onClick:r[2]||(r[2]=s=>u.toggle())},{default:i(()=>[p(m(t.$gettext("Files")),1)]),_:1})]),_:1})):f("",!0)]),_:1})]),_:1},8,["modelValue"])}const J=P(q,[["render",G],["__scopeId","data-v-b63ed0f8"]]);export{Q as A,J as N,z as U};
