import g from"./File-CGNoYelT.js";import{_ as F,c as p,a as t,b as r,w as o,V as m,r as $,T as V,F as U,o as n,d as u,e as a,f as k,n as w,g as D,h as f,i as v,j as B,k as A,l as d,t as s}from"../index.js";import"./FileListItems-CVuZQHeb.js";import"./utils-CgMtNAzL.js";import"./FileDialog-BBJgAaYO.js";const N={extends:g,setup(){return{...g.setup()}}},E=["title"],L=["src"],R={class:"menu-overlay"},T={key:1,class:"file"};function I(e,l,M,S,j,z){const y=$("FileDialog"),C=$("FileUrlDialog");return n(),p(U,null,[t(m,null,{default:o(()=>[t(a,{cols:"12",md:"6"},{default:o(()=>[k("div",{class:w(["files",{readonly:e.readonly}])},[e.file.id?(n(),p("div",{key:0,class:"file",onClick:l[3]||(l[3]=i=>e.open(e.file)),title:e.$gettext("Edit file")},[e.file.uploading?(n(),r(D,{key:0,color:"primary",height:"5",indeterminate:"",rounded:""})):u("",!0),e.file.path?(n(),p("video",{key:1,src:e.url(e.file.path),draggable:!1,controls:""},null,8,L)):u("",!0),e.readonly?u("",!0):(n(),r(f,{key:2,onClick:l[0]||(l[0]=v(i=>e.menu=!e.menu,["stop"])),title:e.$gettext("Open menu"),icon:"mdi-dots-vertical",class:"btn-overlay",variant:"flat"},null,8,["title"])),e.menu?(n(),r(B,{key:3},{activator:o(({props:i})=>[k("div",R,[t(f,{onClick:l[1]||(l[1]=v(b=>e.open(e.file),["stop"])),title:e.$gettext("Edit file"),icon:"mdi-pencil",variant:"flat"},null,8,["title"]),t(f,{onClick:l[2]||(l[2]=v(b=>e.remove(),["stop"])),title:e.$gettext("Remove file"),icon:"mdi-trash-can",variant:"flat"},null,8,["title"])])]),_:1})):u("",!0)],8,E)):e.readonly?u("",!0):(n(),p("div",T,[e.auth.can("file:view")?(n(),r(f,{key:0,onClick:l[4]||(l[4]=i=>e.vfiles=!0),title:e.$gettext("Add file"),icon:"mdi-button-cursor",variant:"flat"},null,8,["title"])):u("",!0),t(f,{onClick:l[5]||(l[5]=i=>e.vurls=!0),title:e.$gettext("Add file from URL"),icon:"mdi-link-variant-plus",variant:"flat"},null,8,["title"]),t(f,{title:e.$gettext("Upload file"),icon:"mdi-upload",variant:"flat"},{default:o(()=>[t(A,{modelValue:e.selected,"onUpdate:modelValue":[l[6]||(l[6]=i=>e.selected=i),l[7]||(l[7]=i=>e.add(i))],accept:e.config.accept||"video/*","hide-input":!0,"prepend-icon":"mdi-upload"},null,8,["modelValue","accept"])]),_:1},8,["title"])]))],2)]),_:1}),e.file.path?(n(),r(a,{key:0,cols:"12",md:"6",class:"meta"},{default:o(()=>[t(m,null,{default:o(()=>[t(a,{cols:"12",md:"3",class:"name"},{default:o(()=>[d(s(e.$gettext("name"))+":",1)]),_:1}),t(a,{cols:"12",md:"9"},{default:o(()=>[d(s(e.file.name),1)]),_:1})]),_:1}),t(m,null,{default:o(()=>[t(a,{cols:"12",md:"3",class:"name"},{default:o(()=>[d(s(e.$gettext("description"))+":",1)]),_:1}),t(a,{cols:"12",md:"9"},{default:o(()=>[d(s(e.description),1)]),_:1})]),_:1}),t(m,null,{default:o(()=>[t(a,{cols:"12",md:"3",class:"name"},{default:o(()=>[d(s(e.$gettext("mime"))+":",1)]),_:1}),t(a,{cols:"12",md:"9"},{default:o(()=>[d(s(e.file.mime),1)]),_:1})]),_:1}),t(m,null,{default:o(()=>[t(a,{cols:"12",md:"3",class:"name"},{default:o(()=>[d(s(e.$gettext("editor"))+":",1)]),_:1}),t(a,{cols:"12",md:"9"},{default:o(()=>[d(s(e.file.editor),1)]),_:1})]),_:1}),t(m,null,{default:o(()=>[t(a,{cols:"12",md:"3",class:"name"},{default:o(()=>[d(s(e.$gettext("updated"))+":",1)]),_:1}),t(a,{cols:"12",md:"9"},{default:o(()=>[d(s(new Date(e.file.updated_at).toLocaleString()),1)]),_:1})]),_:1})]),_:1})):u("",!0)]),_:1}),(n(),r(V,{to:"body"},[t(y,{modelValue:e.vfiles,"onUpdate:modelValue":l[8]||(l[8]=i=>e.vfiles=i),onAdd:l[9]||(l[9]=i=>{e.handle(i),e.vfiles=!1}),filter:{mime:"video/"}},null,8,["modelValue"])])),(n(),r(V,{to:"body"},[t(C,{modelValue:e.vurls,"onUpdate:modelValue":l[10]||(l[10]=i=>e.vurls=i),onAdd:l[11]||(l[11]=i=>{e.select(i),e.vurls=!1}),mime:"video/"},null,8,["modelValue"])]))],64)}const J=F(N,[["render",I],["__scopeId","data-v-be9e3eb2"]]);export{J as default};
