var K=Object.defineProperty;var J=(a,e,t)=>e in a?K(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var B=(a,e,t)=>J(a,typeof e!="symbol"?e+"":e,t);import{P as p,E as X,D as Y,B as Z,M as P,q as ee,C as v,f as k,S as te,U as ne,a as oe,c as H,b as L,d as N,e as q,g as F,h as M,i as $,j as R,k as ie,l as z,p as se,_ as ae,m as ce,n as le,o as re,r as de,s as ue,t as me,u as ge,v as fe,w as he,x as pe,y as be,z as ke,A as Be,F as ve,G as Ce,H as xe,I as we,J as Se,K as Ee,L as Pe,N as Ae,O as Le,Q as _e,R as Ve,T as ye,V as Te,W as Ie,X as De,Y as Oe,Z as Qe,$ as He,a0 as Ne,a1 as qe,a2 as Fe,a3 as Me,a4 as $e,a5 as Re,a6 as ze,a7 as Ue,a8 as je,a9 as We,aa as Ge,ab as Ke,ac as Je,ad as Xe,ae as Ye,af as Ze}from"./ckeditor5-DgVj9bcp.js";import{_ as et,c as tt,d as nt,a as ot,r as it,o as st}from"./index-zamkCzJL.js";/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class at extends v{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,n=t.schema,s=t.document.selection,i=Array.from(s.getSelectedBlocks()),o=e.forceValue===void 0?!this.value:e.forceValue;t.change(c=>{if(!o)this._removeQuote(c,i.filter(C));else{const l=i.filter(r=>C(r)||V(n,r));this._applyQuote(c,l)}})}_getValue(){const e=this.editor.model.document.selection,t=k(e.getSelectedBlocks());return!!(t&&C(t))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,n=k(e.getSelectedBlocks());return n?V(t,n):!1}_removeQuote(e,t){_(e,t).reverse().forEach(n=>{if(n.start.isAtStart&&n.end.isAtEnd){e.unwrap(n.start.parent);return}if(n.start.isAtStart){const i=e.createPositionBefore(n.start.parent);e.move(n,i);return}n.end.isAtEnd||e.split(n.end);const s=e.createPositionAfter(n.end.parent);e.move(n,s)})}_applyQuote(e,t){const n=[];_(e,t).reverse().forEach(s=>{let i=C(s.start);i||(i=e.createElement("blockQuote"),e.wrap(s,i)),n.push(i)}),n.reverse().reduce((s,i)=>s.nextSibling==i?(e.merge(e.createPositionAfter(s)),s):i)}}function C(a){return a.parent.name=="blockQuote"?a.parent:null}function _(a,e){let t,n=0;const s=[];for(;n<e.length;){const i=e[n],o=e[n+1];t||(t=a.createPositionBefore(i)),(!o||i.nextSibling!=o)&&(s.push(a.createRange(t,a.createPositionAfter(i))),t=null),n++}return s}function V(a,e){const t=a.checkChild(e.parent,"blockQuote"),n=a.checkChild(["$root","blockQuote"],e);return t&&n}class ct extends p{static get pluginName(){return"BlockQuoteEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[X,Y]}init(){const e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new at(e)),t.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(o=>{const c=e.model.document.differ.getChanges();for(const l of c)if(l.type=="insert"){const r=l.position.nodeAfter;if(!r)continue;if(r.is("element","blockQuote")&&r.isEmpty)return o.remove(r),!0;if(r.is("element","blockQuote")&&!t.checkChild(l.position,r))return o.unwrap(r),!0;if(r.is("element")){const m=o.createRangeIn(r);for(const d of m.getItems())if(d.is("element","blockQuote")&&!t.checkChild(o.createPositionBefore(d),d))return o.unwrap(d),!0}}else if(l.type=="remove"){const r=l.position.parent;if(r.is("element","blockQuote")&&r.isEmpty)return o.remove(r),!0}return!1});const n=this.editor.editing.view.document,s=e.model.document.selection,i=e.commands.get("blockQuote");this.listenTo(n,"enter",(o,c)=>{if(!s.isCollapsed||!i.value)return;s.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),c.preventDefault(),o.stop())},{context:"blockquote"}),this.listenTo(n,"delete",(o,c)=>{if(c.direction!="backward"||!s.isCollapsed||!i.value)return;const l=s.getLastPosition().parent;l.isEmpty&&!l.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),c.preventDefault(),o.stop())},{context:"blockquote"})}}class lt extends p{static get pluginName(){return"BlockQuoteUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("blockQuote",()=>{const t=this._createButton(Z);return t.set({tooltip:!0}),t}),e.ui.componentFactory.add("menuBar:blockQuote",()=>{const t=this._createButton(P);return t.set({role:"menuitemcheckbox"}),t})}_createButton(e){const t=this.editor,n=t.locale,s=t.commands.get("blockQuote"),i=new e(t.locale),o=n.t;return i.set({label:o("Block quote"),icon:ee,isToggleable:!0}),i.bind("isEnabled").to(s,"isEnabled"),i.bind("isOn").to(s,"value"),this.listenTo(i,"execute",()=>{t.execute("blockQuote"),t.editing.view.focus()}),i}}class rt extends p{static get requires(){return[ct,lt]}static get pluginName(){return"BlockQuote"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function x(a){const e=a.t,t=a.config.get("codeBlock.languages");for(const n of t)n.label==="Plain text"&&(n.label=e("Plain text")),n.class===void 0&&(n.class=`language-${n.language}`);return t}function w(a,e,t){const n={};for(const s of a)if(e==="class"){const i=s[e].split(" ").shift();n[i]=s[t]}else n[s[e]]=s[t];return n}function A(a){return a.data.match(/^(\s*)/)[0]}function dt(a,e){const t=a.createDocumentFragment(),n=e.split(`
`),s=n.reduce((i,o,c)=>(i.push(o),c<n.length-1&&i.push(a.createElement("br")),i),[]);return a.appendChild(s,t),t}function E(a){const e=a.document.selection,t=[];if(e.isCollapsed)return[e.anchor];const n=e.getFirstRange().getWalker({ignoreElementEnd:!0,direction:"backward"});for(const{item:s}of n){let i=s.is("$textProxy")?s.textNode:s;const o=i.parent;if(!o.is("element","codeBlock")||i.is("element","softBreak"))continue;for(;i.previousSibling&&!i.previousSibling.is("element","softBreak");)i=i.previousSibling;const c=i.is("$text")?i.startOffset+A(i).length:i.startOffset,l=a.createPositionAt(o,c);t.every(r=>!r.isEqual(l))&&t.push(l)}return t}function U(a){const e=k(a.getSelectedBlocks());return!!e&&e.is("element","codeBlock")}function y(a,e){return e.is("rootElement")||a.isLimit(e)?!1:a.checkChild(e.parent,"codeBlock")}function T(a,e,t,n){const s=w(e,"language","label"),i=t.getAttribute("language");if(i in s){const o=s[i];return a(n==="enter"?"Entering %0 code snippet":"Leaving %0 code snippet",o)}return a(n==="enter"?"Entering code snippet":"Leaving code snippet")}function j(a,e){for(a.textNode&&(a=e.createPositionBefore(a.textNode));a.nodeBefore&&!a.nodeBefore.is("element","softBreak");)a=e.createPositionBefore(a.nodeBefore);const t=a.nodeAfter;return t&&t.is("$text")?t:null}class ut extends v{constructor(t){super(t);B(this,"_lastLanguage");this._lastLanguage=null}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const n=this.editor,s=n.model,i=s.document.selection,c=x(n)[0],l=Array.from(i.getSelectedBlocks()),r=t.forceValue==null?!this.value:t.forceValue,m=mt(t,this._lastLanguage,c.language);s.change(d=>{r?this._applyCodeBlock(d,l,m):this._removeCodeBlock(d,l)})}_getValue(){const t=this.editor.model.document.selection,n=k(t.getSelectedBlocks());return!!(n!=null&&n.is("element","codeBlock"))?n.getAttribute("language"):!1}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,n=this.editor.model.schema,s=k(t.getSelectedBlocks());return s?y(n,s):!1}_applyCodeBlock(t,n,s){this._lastLanguage=s;const i=this.editor.model.schema,o=n.filter(c=>y(i,c));for(const c of o)t.rename(c,"codeBlock"),t.setAttribute("language",s,c),i.removeDisallowedAttributes([c],t),Array.from(c.getChildren()).filter(l=>!i.checkChild(c,l)).forEach(l=>t.remove(l));o.reverse().forEach((c,l)=>{const r=o[l+1];c.previousSibling===r&&(t.appendElement("softBreak",r),t.merge(t.createPositionBefore(c)))})}_removeCodeBlock(t,n){const s=n.filter(i=>i.is("element","codeBlock"));for(const i of s){const o=t.createRangeOn(i);for(const c of Array.from(o.getItems()).reverse())if(c.is("element","softBreak")&&c.parent.is("element","codeBlock")){const{position:l}=t.split(t.createPositionBefore(c)),r=l.nodeAfter;t.rename(r,"paragraph"),t.removeAttribute("language",r),t.remove(c)}t.rename(i,"paragraph"),t.removeAttribute("language",i)}}}function mt(a,e,t){return a.language?a.language:a.usePreviousLanguageChoice&&e?e:t}class gt extends v{constructor(t){super(t);B(this,"_indentSequence");this._indentSequence=t.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const n=this.editor.model;n.change(s=>{const i=E(n);for(const o of i){const c=s.createText(this._indentSequence);n.insertContent(c,o)}})}_checkEnabled(){return this._indentSequence?U(this.editor.model.document.selection):!1}}class ft extends v{constructor(t){super(t);B(this,"_indentSequence");this._indentSequence=t.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const n=this.editor.model;n.change(()=>{const s=E(n);for(const i of s){const o=I(n,i,this._indentSequence);o&&n.deleteContent(n.createSelection(o))}})}_checkEnabled(){if(!this._indentSequence)return!1;const t=this.editor.model;return U(t.document.selection)?E(t).some(n=>I(t,n,this._indentSequence)):!1}}function I(a,e,t){const n=j(e,a);if(!n)return null;const s=A(n),i=s.lastIndexOf(t);if(i+t.length!==s.length||i===-1)return null;const{parent:o,startOffset:c}=n;return a.createRange(a.createPositionAt(o,c+i),a.createPositionAt(o,c+i+t.length))}function D(a,e,t=!1){const n=w(e,"language","class"),s=w(e,"language","label");return(i,o,c)=>{const{writer:l,mapper:r,consumable:m}=c;if(!m.consume(o.item,"insert"))return;const d=o.item.getAttribute("language"),u=r.toViewPosition(a.createPositionBefore(o.item)),g={};t&&(g["data-language"]=s[d],g.spellcheck="false");const f=n[d]?{class:n[d]}:void 0,h=l.createContainerElement("code",f),G=l.createContainerElement("pre",g,h);l.insert(u,G),r.bindElements(o.item,h)}}function ht(a){return(e,t,n)=>{if(t.item.parent.name!=="codeBlock")return;const{writer:s,mapper:i,consumable:o}=n;if(!o.consume(t.item,"insert"))return;const c=i.toViewPosition(a.createPositionBefore(t.item));s.insert(c,s.createText(`
`))}}function pt(a,e){const t=w(e,"class","language"),n=e[0].language;return(s,i,o)=>{const c=i.viewItem,l=c.parent;if(!l||!l.is("element","pre")||i.modelCursor.findAncestor("codeBlock"))return;const{consumable:r,writer:m}=o;if(!r.test(c,{name:!0}))return;const d=m.createElement("codeBlock"),u=[...c.getClassNames()];u.length||u.push("");for(const g of u){const f=t[g];if(f){m.setAttribute("language",f,d);break}}d.hasAttribute("language")||m.setAttribute("language",n,d),o.convertChildren(c,d),o.safeInsert(d,i.modelCursor)&&(r.consume(c,{name:!0}),o.updateConversionResult(d,i))}}function bt(){return(a,e,{consumable:t,writer:n})=>{let s=e.modelCursor;if(!t.test(e.viewItem)||!s.findAncestor("codeBlock"))return;t.consume(e.viewItem);const o=e.viewItem.data.split(`
`).map(l=>n.createText(l)),c=o[o.length-1];for(const l of o)if(n.insert(l,s),s=s.getShiftedBy(l.offsetSize),l!==c){const r=n.createElement("softBreak");n.insert(r,s),s=n.createPositionAfter(r)}e.modelRange=n.createRange(e.modelCursor,s),e.modelCursor=s}}function kt(){return(a,e,{consumable:t})=>{const n=e.viewItem;if(n.findAncestor("pre"))return;const s=Array.from(n.getChildren()),i=s.find(o=>o.is("element","code"));if(i)for(const o of s)o===i||!o.is("$text")||t.consume(o,{name:!0})}}const W="paragraph";class Bt extends p{static get pluginName(){return"CodeBlockEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[te]}constructor(e){super(e),e.config.define("codeBlock",{languages:[{language:"plaintext",label:"Plain text"},{language:"c",label:"C"},{language:"cs",label:"C#"},{language:"cpp",label:"C++"},{language:"css",label:"CSS"},{language:"diff",label:"Diff"},{language:"go",label:"Go"},{language:"html",label:"HTML"},{language:"java",label:"Java"},{language:"javascript",label:"JavaScript"},{language:"php",label:"PHP"},{language:"python",label:"Python"},{language:"ruby",label:"Ruby"},{language:"typescript",label:"TypeScript"},{language:"xml",label:"XML"}],indentSequence:"	"})}init(){const e=this.editor,t=e.model.schema,n=e.model,s=e.editing.view,i=x(e);e.commands.add("codeBlock",new ut(e)),e.commands.add("indentCodeBlock",new gt(e)),e.commands.add("outdentCodeBlock",new ft(e)),this.listenTo(s.document,"tab",(o,c)=>{const l=c.shiftKey?"outdentCodeBlock":"indentCodeBlock";e.commands.get(l).isEnabled&&(e.execute(l),c.stopPropagation(),c.preventDefault(),o.stop())},{context:"pre"}),t.register("codeBlock",{allowWhere:"$block",allowChildren:"$text",disallowChildren:"$inlineObject",allowAttributes:["language"],allowAttributesOf:"$listItem",isBlock:!0}),t.addAttributeCheck((o,c)=>{const l=o.getItem(o.length-2);if(t.getAttributeProperties(c).isFormatting&&l&&l.name=="codeBlock")return!1}),e.editing.downcastDispatcher.on("insert:codeBlock",D(n,i,!0)),e.data.downcastDispatcher.on("insert:codeBlock",D(n,i)),e.data.downcastDispatcher.on("insert:softBreak",ht(n),{priority:"high"}),e.data.upcastDispatcher.on("element:code",pt(s,i)),e.data.upcastDispatcher.on("text",bt()),e.data.upcastDispatcher.on("element:pre",kt(),{priority:"high"}),this.listenTo(e.editing.view.document,"clipboardInput",(o,c)=>{let l=n.createRange(n.document.selection.anchor);if(c.targetRanges&&(l=e.editing.mapper.toModelRange(c.targetRanges[0])),!l.start.parent.is("element","codeBlock"))return;const r=c.dataTransfer.getData("text/plain"),m=new ne(e.editing.view.document);c.content=dt(m,r)}),e.plugins.has("ClipboardPipeline")&&e.plugins.get(oe).on("contentInsertion",(o,c)=>{const l=e.model,r=l.document.selection;r.anchor.parent.is("element","codeBlock")&&l.change(m=>{const d=m.createRangeIn(c.content);for(const u of[...d.getItems()])u.is("node")&&!t.checkChild(r.anchor,u)&&m.remove(u)})}),this.listenTo(n,"getSelectedContent",(o,[c])=>{const l=c.anchor;c.isCollapsed||!l.parent.is("element","codeBlock")||!l.hasSameParentAs(c.focus)||n.change(r=>{const m=o.return;if(l.parent.is("element")&&(m.childCount>1||c.containsEntireContent(l.parent))){const u=r.createElement("codeBlock",l.parent.getAttributes());r.append(m,u);const g=r.createDocumentFragment();r.append(u,g),o.return=g;return}const d=m.getChild(0);t.checkAttribute(d,"code")&&r.setAttribute("code",!0,d)})})}afterInit(){const e=this.editor,t=e.commands,n=t.get("indent"),s=t.get("outdent");n&&n.registerChildCommand(t.get("indentCodeBlock"),{priority:"highest"}),s&&s.registerChildCommand(t.get("outdentCodeBlock")),this.listenTo(e.editing.view.document,"enter",(i,o)=>{e.model.document.selection.getLastPosition().parent.is("element","codeBlock")&&(!Ct(e,o.isSoft)&&!xt(e,o.isSoft)&&vt(e),o.preventDefault(),i.stop())},{context:"pre"}),this._initAriaAnnouncements()}_initAriaAnnouncements(){const{model:e,ui:t,t:n}=this.editor,s=x(this.editor);let i=null;e.document.selection.on("change:range",()=>{const o=e.document.selection.focus.parent;!t||i===o||!o.is("element")||(i&&i.is("element","codeBlock")&&t.ariaLiveAnnouncer.announce(T(n,s,i,"leave")),o.is("element","codeBlock")&&t.ariaLiveAnnouncer.announce(T(n,s,o,"enter")),i=o)})}}function vt(a){const e=a.model,t=e.document,n=t.selection.getLastPosition();let s;const i=j(n,e);i&&i.is("$text")&&(s=A(i)),a.model.change(o=>{a.execute("shiftEnter"),s&&o.insertText(s,t.selection.anchor)})}function Ct(a,e){const n=a.model.document,s=a.editing.view,i=n.selection.getLastPosition(),o=i.nodeAfter;return e||!n.selection.isCollapsed||!i.isAtStart||!b(o)?!1:(a.model.change(c=>{a.execute("enter");const l=n.selection.anchor.parent.previousSibling;c.rename(l,W),c.setSelection(l,"in"),a.model.schema.removeDisallowedAttributes([l],c),c.remove(o)}),s.scrollToTheSelection(),!0)}function xt(a,e){const t=a.model,n=t.document,s=a.editing.view,i=n.selection.getLastPosition(),o=i.nodeBefore;let c;if(e||!n.selection.isCollapsed||!i.isAtEnd||!o||!o.previousSibling)return!1;if(b(o)&&b(o.previousSibling))c=t.createRange(t.createPositionBefore(o.previousSibling),t.createPositionAfter(o));else if(S(o)&&b(o.previousSibling)&&b(o.previousSibling.previousSibling))c=t.createRange(t.createPositionBefore(o.previousSibling.previousSibling),t.createPositionAfter(o));else if(S(o)&&b(o.previousSibling)&&S(o.previousSibling.previousSibling)&&o.previousSibling.previousSibling&&b(o.previousSibling.previousSibling.previousSibling))c=t.createRange(t.createPositionBefore(o.previousSibling.previousSibling.previousSibling),t.createPositionAfter(o));else return!1;return a.model.change(l=>{l.remove(c),a.execute("enter");const r=n.selection.anchor.parent;l.rename(r,W),a.model.schema.removeDisallowedAttributes([r],l)}),s.scrollToTheSelection(),!0}function S(a){return a&&a.is("$text")&&!a.data.match(/\S/)}function b(a){return a&&a.is("element","softBreak")}class wt extends p{static get pluginName(){return"CodeBlockUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t,n=e.ui.componentFactory,s=x(e),i=this._getLanguageListItemDefinitions(s),o=e.commands.get("codeBlock");n.add("codeBlock",c=>{const l=H(c,ie),r=l.buttonView,m=t("Insert code block");return r.set({label:m,tooltip:!0,icon:L,isToggleable:!0}),r.bind("isOn").to(o,"value",d=>!!d),r.on("execute",()=>{e.execute("codeBlock",{usePreviousLanguageChoice:!0}),e.editing.view.focus()}),l.on("execute",d=>{e.execute("codeBlock",{language:d.source._codeBlockLanguage,forceValue:!0}),e.editing.view.focus()}),l.class="ck-code-block-dropdown",l.bind("isEnabled").to(o),N(l,i,{role:"menu",ariaLabel:m}),l}),n.add("menuBar:codeBlock",c=>{const l=new q(c);l.buttonView.set({role:"menuitem",label:t("Code block"),icon:L}),l.bind("isEnabled").to(o);const r=new F(c);r.set({ariaLabel:t("Insert code block")});for(const m of i){const d=new M(c,l),u=new P(c);u.bind(...Object.keys(m.model)).to(m.model),u.set({isToggleable:!0,role:"menuitemcheckbox"}),u.delegate("execute").to(l),u.on("execute",()=>{e.execute("codeBlock",{language:m.model._codeBlockLanguage,forceValue:o.value!=m.model._codeBlockLanguage}),e.editing.view.focus()}),d.children.add(u),r.items.add(d)}return l.panelView.children.add(r),l})}_getLanguageListItemDefinitions(e){const n=this.editor.commands.get("codeBlock"),s=new $;for(const i of e){const o={type:"button",model:new R({_codeBlockLanguage:i.language,label:i.label,role:"menuitemradio",withText:!0})};o.model.bind("isOn").to(n,"value",c=>c===o.model._codeBlockLanguage),s.add(o)}return s}}class St extends p{static get requires(){return[Bt,wt]}static get pluginName(){return"CodeBlock"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Et extends v{constructor(t,n){super(t);B(this,"modelElements");this.modelElements=n}refresh(){const t=k(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some(n=>O(t,n,this.editor.model.schema))}execute(t){const n=this.editor.model,s=n.document,i=t.value;n.change(o=>{const c=Array.from(s.selection.getSelectedBlocks()).filter(l=>O(l,i,n.schema));for(const l of c)l.is("element",i)||o.rename(l,i)})}}function O(a,e,t){return t.checkChild(a.parent,e)&&!t.isObject(a)}const Q="paragraph";class Pt extends p{static get pluginName(){return"HeadingEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[z]}init(){const e=this.editor,t=e.config.get("heading.options"),n=[];for(const s of t)s.model!=="paragraph"&&(e.model.schema.register(s.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(s),n.push(s.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new Et(e,n))}afterInit(){const e=this.editor,t=e.commands.get("enter"),n=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(s,i)=>{const o=e.model.document.selection.getFirstPosition().parent;n.some(l=>o.is("element",l.model))&&!o.is("element",Q)&&o.childCount===0&&i.writer.rename(o,Q)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:se.low+1})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function At(a){const e=a.t,t={Paragraph:e("Paragraph"),"Heading 1":e("Heading 1"),"Heading 2":e("Heading 2"),"Heading 3":e("Heading 3"),"Heading 4":e("Heading 4"),"Heading 5":e("Heading 5"),"Heading 6":e("Heading 6")};return a.config.get("heading.options").map(n=>{const s=t[n.title];return s&&s!=n.title&&(n.title=s),n})}class Lt extends p{static get pluginName(){return"HeadingUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t,n=At(e),s=t("Choose heading"),i=t("Heading");e.ui.componentFactory.add("heading",o=>{const c={},l=new $,r=e.commands.get("heading"),m=e.commands.get("paragraph"),d=[r];for(const g of n){const f={type:"button",model:new R({label:g.title,class:g.class,role:"menuitemradio",withText:!0})};g.model==="paragraph"?(f.model.bind("isOn").to(m,"value"),f.model.set("commandName","paragraph"),d.push(m)):(f.model.bind("isOn").to(r,"value",h=>h===g.model),f.model.set({commandName:"heading",commandValue:g.model})),l.add(f),c[g.model]=g.title}const u=H(o);return N(u,l,{ariaLabel:i,role:"menu"}),u.buttonView.set({ariaLabel:i,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:i}),u.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),u.bind("isEnabled").toMany(d,"isEnabled",(...g)=>g.some(f=>f)),u.buttonView.bind("label").to(r,"value",m,"value",(g,f)=>{const h=f?"paragraph":g;return typeof h=="boolean"||!c[h]?s:c[h]}),u.buttonView.bind("ariaLabel").to(r,"value",m,"value",(g,f)=>{const h=f?"paragraph":g;return typeof h=="boolean"||!c[h]?i:`${c[h]}, ${i}`}),this.listenTo(u,"execute",g=>{const{commandName:f,commandValue:h}=g.source;e.execute(f,h?{value:h}:void 0),e.editing.view.focus()}),u}),e.ui.componentFactory.add("menuBar:heading",o=>{const c=new q(o),l=e.commands.get("heading"),r=e.commands.get("paragraph"),m=[l],d=new F(o);c.set({class:"ck-heading-dropdown"}),d.set({ariaLabel:t("Heading"),role:"menu"}),c.buttonView.set({label:t("Heading")}),c.panelView.children.add(d);for(const u of n){const g=new M(o,c),f=new P(o);g.children.add(f),d.items.add(g),f.set({isToggleable:!0,label:u.title,role:"menuitemradio",class:u.class}),f.delegate("execute").to(c),f.on("execute",()=>{const h=u.model==="paragraph"?"paragraph":"heading";e.execute(h,{value:u.model}),e.editing.view.focus()}),u.model==="paragraph"?(f.bind("isOn").to(r,"value"),m.push(r)):f.bind("isOn").to(l,"value",h=>h===u.model)}return c.bind("isEnabled").toMany(m,"isEnabled",(...u)=>u.some(g=>g)),c})}}class _t extends p{static get requires(){return[Pt,Lt]}static get pluginName(){return"Heading"}static get isOfficialPlugin(){return!0}}const Vt={components:{Ckeditor:ae},props:{modelValue:{type:String,default:""},config:{type:Object,default:()=>{}},assets:{type:Object,default:()=>{}},readonly:{type:Boolean,default:!1},context:{type:Object}},emits:["update:modelValue","error"],data(){return{editor:Ze,visible:!0}},beforeUnmount(){this.visible=!1},computed:{ckconfig(){return{licenseKey:"GPL",plugins:[qe,Fe,Me,$e,Re,ze,Ue,_t,z,je,We,Ge,rt,Ke,St,Je,Xe,Ye],toolbar:["undo","redo","removeFormat","|","heading","|","bold","italic","strikethrough","code","link","|","blockQuote","codeBlock","|","bulletedList","numberedList","|","fullscreen"],translations:[ce,le,re,de,ue,me,ge,fe,he,pe,be,ke,Be,ve,Ce,xe,we,Se,Ee,Pe,Ae,Le,_e,Ve,ye,Te,Ie,De,Oe,Qe,He,Ne],language:{ui:this.$vuetify.locale.current}}}},methods:{update(a){this.modelValue!=a&&this.$emit("update:modelValue",a)},async validate(){return await!0}}},yt={key:0};function Tt(a,e,t,n,s,i){const o=it("ckeditor");return s.visible?(st(),tt("div",yt,[ot(o,{config:i.ckconfig,editor:s.editor,disabled:t.readonly,modelValue:t.modelValue,"onUpdate:modelValue":e[0]||(e[0]=c=>i.update(c))},null,8,["config","editor","disabled","modelValue"])])):nt("",!0)}const Qt=et(Vt,[["render",Tt]]);export{Qt as default};
