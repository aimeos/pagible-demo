import{_ as P,bd as b,be as r,aB as y,a4 as w,a1 as A,bf as $,bg as C,c as h,a,b as _,d as g,h as f,w as i,j as k,F as V,o as l,aa as L,a3 as j,ab as d,l as p,t as m,I as D,aF as O,aO as T,aP as x,P as S,r as N,H as I}from"../index.js";const U={data:()=>({user:null}),setup(){const e=y(),t=w(),v=A(),n=$(),E=C();return{auth:v,i18n:n,languages:e,messages:t,theme:E}},created(){this.auth.user().then(e=>{this.user=e}).catch(e=>{this.messages.add(this.$gettext("Failed to load user"),"error")})},methods:{logout(){this.auth.logout().then(()=>{this.user=null,this.$router.replace("/")}).catch(e=>{this.messages.add(this.$gettext("Logout failed"),"error")})},change(e){b(Object.assign({"../../i18n/ar.json":()=>r(()=>import("./ar-BdDgX3ZC.js"),[],import.meta.url),"../../i18n/bg.json":()=>r(()=>import("./bg-CG88IE5s.js"),[],import.meta.url),"../../i18n/cs.json":()=>r(()=>import("./cs-CUzxvkTO.js"),[],import.meta.url),"../../i18n/da.json":()=>r(()=>import("./da-C_QhUQ81.js"),[],import.meta.url),"../../i18n/de.json":()=>r(()=>import("./de-CoCcLGsq.js"),[],import.meta.url),"../../i18n/el.json":()=>r(()=>import("./el-Bg-puwat.js"),[],import.meta.url),"../../i18n/en.json":()=>r(()=>import("./en-wdq2j_uI.js"),[],import.meta.url),"../../i18n/es.json":()=>r(()=>import("./es-CNyrCtAS.js"),[],import.meta.url),"../../i18n/et.json":()=>r(()=>import("./et-CxgOET-d.js"),[],import.meta.url),"../../i18n/fi.json":()=>r(()=>import("./fi-DoMPCEOg.js"),[],import.meta.url),"../../i18n/fr.json":()=>r(()=>import("./fr-CkIf03RO.js"),[],import.meta.url),"../../i18n/he.json":()=>r(()=>import("./he-Gr0q56v2.js"),[],import.meta.url),"../../i18n/hu.json":()=>r(()=>import("./hu-Clw2k5H5.js"),[],import.meta.url),"../../i18n/id.json":()=>r(()=>import("./id-BAr2Kamb.js"),[],import.meta.url),"../../i18n/it.json":()=>r(()=>import("./it-4YNfsv7h.js"),[],import.meta.url),"../../i18n/ja.json":()=>r(()=>import("./ja-BiK7vzmD.js"),[],import.meta.url),"../../i18n/ko.json":()=>r(()=>import("./ko--ZUQl2IR.js"),[],import.meta.url),"../../i18n/lt.json":()=>r(()=>import("./lt-DS8olvHG.js"),[],import.meta.url),"../../i18n/lv.json":()=>r(()=>import("./lv-DuY_Xyiz.js"),[],import.meta.url),"../../i18n/nl.json":()=>r(()=>import("./nl-CoU4I4cb.js"),[],import.meta.url),"../../i18n/no.json":()=>r(()=>import("./no-CkPEotfh.js"),[],import.meta.url),"../../i18n/pl.json":()=>r(()=>import("./pl-BDua-qXI.js"),[],import.meta.url),"../../i18n/pt.json":()=>r(()=>import("./pt-BDC87XE4.js"),[],import.meta.url),"../../i18n/ro.json":()=>r(()=>import("./ro-DWkQLppG.js"),[],import.meta.url),"../../i18n/ru.json":()=>r(()=>import("./ru-DvgmaXUd.js"),[],import.meta.url),"../../i18n/sk.json":()=>r(()=>import("./sk-XgUDhcFL.js"),[],import.meta.url),"../../i18n/sl.json":()=>r(()=>import("./sl-ChgLs3hM.js"),[],import.meta.url),"../../i18n/sv.json":()=>r(()=>import("./sv-BWK39XyA.js"),[],import.meta.url),"../../i18n/th.json":()=>r(()=>import("./th-D5WCfT3E.js"),[],import.meta.url),"../../i18n/tr.json":()=>r(()=>import("./tr-mVuC5aR7.js"),[],import.meta.url),"../../i18n/uk.json":()=>r(()=>import("./uk-Cq9_4ueV.js"),[],import.meta.url),"../../i18n/vi.json":()=>r(()=>import("./vi-CNiUtVfE.js"),[],import.meta.url),"../../i18n/zh.json":()=>r(()=>import("./zh-rdygYZ3u.js"),[],import.meta.url)}),`../../i18n/${e}.json`,4).then(t=>{this.i18n.translations=t.default||t,this.$vuetify.locale.current=e,this.i18n.current=e})}}};function B(e,t,v,n,E,s){return l(),h(V,null,[a(f,{onClick:t[0]||(t[0]=o=>n.theme.toggle()),title:e.$gettext("Toggle light/dark mode"),icon:n.theme.global.current.value.dark?"mdi-white-balance-sunny":"mdi-weather-night"},null,8,["title","icon"]),a(k,null,{activator:i(({props:o})=>[a(f,D(o,{title:e.$gettext("Switch language"),icon:"mdi-web",class:"icon"}),null,16,["title"])]),default:i(()=>[a(L,null,{default:i(()=>[(l(!0),h(V,null,j(n.i18n.available,(o,u)=>(l(),_(d,{key:u},{default:i(()=>[a(f,{onClick:c=>s.change(u),variant:"text"},{default:i(()=>[p(m(n.languages.translate(u))+" ("+m(u)+")",1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1}),e.user?(l(),_(k,{key:0},{activator:i(({props:o})=>[a(f,D(o,{title:e.$gettext("User menu"),icon:"mdi-account-circle-outline",class:"icon"}),null,16,["title"])]),default:i(()=>[a(L,null,{default:i(()=>{var o;return[(o=e.user)!=null&&o.name?(l(),_(d,{key:0},{default:i(()=>[p(m(e.user.name),1)]),_:1})):g("",!0),a(d,null,{default:i(()=>[a(f,{"prepend-icon":"mdi-logout",onClick:t[1]||(t[1]=u=>s.logout()),variant:"text",class:"menu-item"},{default:i(()=>[p(m(e.$gettext("Logout")),1)]),_:1})]),_:1})]}),_:1})]),_:1})):g("",!0)],64)}const J=P(U,[["render",B],["__scopeId","data-v-d3d2023d"]]),F={props:{content:{type:Array,required:!0},filter:{type:Object,required:!0}},emits:["update:filter"],setup(){return{drawer:O()}},data(){return{open:[]}},created(){this.open=this.content.map((e,t)=>this.has(e.key)?t:!1).filter(e=>e!==!1)},methods:{active(e){for(const t in e.value)if(this.filter[t]!==e.value[t])return!1;return!0},has(e){return this.filter[e]!==null},toggle(e){for(const t in e.value)this.filter[t]=e.value[t];this.$emit("update:filter",this.filter)}}};function q(e,t,v,n,E,s){return l(),_(T,{modelValue:n.drawer.aside,"onUpdate:modelValue":t[1]||(t[1]=o=>n.drawer.aside=o),"mobile-breakpoint":"md",location:"end"},{default:i(()=>[a(L,{opened:E.open,"onUpdate:opened":t[0]||(t[0]=o=>E.open=o)},{default:i(()=>[(l(!0),h(V,null,j(v.content,(o,u)=>(l(),_(x,{key:u,value:u},{activator:i(({props:c})=>[a(d,D({ref_for:!0},c,{class:{active:s.has(o.key)}}),{default:i(()=>[p(m(o.title||o.key),1)]),_:2},1040,["class"])]),default:i(()=>[(l(!0),h(V,null,j(o.items||[],(c,R)=>(l(),_(d,{active:s.active(c),key:R,rounded:"lg"},{default:i(()=>[a(f,{onClick:M=>s.toggle(c),"prepend-icon":c.icon,variant:"text"},{default:i(()=>[p(m(c.title),1)]),_:2},1032,["onClick","prepend-icon"])]),_:2},1032,["active"]))),128))]),_:2},1032,["value"]))),128))]),_:1},8,["opened"])]),_:1},8,["modelValue"])}const K=P(F,[["render",q],["__scopeId","data-v-070f809b"]]),G={setup(){const{mobile:e}=S(),t=O();return{auth:A(),drawer:t,mobile:e}},methods:{toggle(){this.mobile&&(this.drawer.nav=!this.drawer.nav)}}};function H(e,t,v,n,E,s){const o=N("router-link");return l(),_(T,{modelValue:n.drawer.nav,"onUpdate:modelValue":t[3]||(t[3]=u=>n.drawer.nav=u),location:"start","mobile-breakpoint":"lg"},{default:i(()=>[a(L,null,{default:i(()=>[n.auth.can("page:view")?(l(),_(d,{key:0,rounded:"lg"},{default:i(()=>[a(I,{icon:"mdi-file-tree",class:"icon"}),a(o,{to:"/pages",class:"router-link",onClick:t[0]||(t[0]=u=>s.toggle())},{default:i(()=>[p(m(e.$gettext("Pages")),1)]),_:1})]),_:1})):g("",!0),n.auth.can("element:view")?(l(),_(d,{key:1,rounded:"lg"},{default:i(()=>[a(I,{icon:"mdi-share-variant",class:"icon"}),a(o,{to:"/elements",class:"router-link",onClick:t[1]||(t[1]=u=>s.toggle())},{default:i(()=>[p(m(e.$gettext("Shared elements")),1)]),_:1})]),_:1})):g("",!0),n.auth.can("file:view")?(l(),_(d,{key:2,rounded:"lg"},{default:i(()=>[a(I,{icon:"mdi-folder-multiple-image",class:"icon"}),a(o,{to:"/files",class:"router-link",onClick:t[2]||(t[2]=u=>s.toggle())},{default:i(()=>[p(m(e.$gettext("Files")),1)]),_:1})]),_:1})):g("",!0)]),_:1})]),_:1},8,["modelValue"])}const Q=P(G,[["render",H],["__scopeId","data-v-b63ed0f8"]]);export{K as A,Q as N,J as U};
