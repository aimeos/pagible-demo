import v from"./File-DmaBx5Rn.js";import{_ as C,c as p,a as l,b as r,w as t,V as m,r as g,T as V,F,o as s,d as u,e as i,f as U,n as b,g as w,h as D,i as B,j as $,k as f,l as d,t as n,m as L,p as A}from"../index.js";import"./FileListItems-BHj5RakU.js";import"./utils-DqEg1I0W.js";import"./FileDialog-CWVfhhpc.js";const N={extends:v,setup(){return{...v.setup()}}},E=["title"],I=["src"],R={key:1,class:"file"};function T(e,a,P,S,j,z){const k=g("FileDialog"),y=g("FileUrlDialog");return s(),p(F,null,[l(m,null,{default:t(()=>[l(i,{cols:"12",md:"6"},{default:t(()=>[U("div",{class:b(["files",{readonly:e.readonly}])},[e.file.id?(s(),p("div",{key:0,class:"file",onClick:a[2]||(a[2]=o=>e.open(e.file)),title:e.$gettext("Edit")},[e.file.uploading?(s(),r(w,{key:0,color:"primary",height:"5",indeterminate:"",rounded:""})):u("",!0),e.file.path?(s(),p("video",{key:1,src:e.url(e.file.path),draggable:!1,controls:""},null,8,I)):u("",!0),e.file.id&&!e.readonly?(s(),r(D,{key:2},{activator:t(({props:o})=>[l(f,L(o,{title:e.$gettext("Open menu"),icon:"mdi-dots-vertical",class:"btn-overlay",variant:"text",elevation:"0"}),null,16,["title"])]),default:t(()=>[l(B,null,{default:t(()=>[e.auth.can("file:view")?(s(),r($,{key:0},{default:t(()=>[l(f,{onClick:a[0]||(a[0]=o=>e.open(e.file)),"prepend-icon":"mdi-pencil",variant:"text",elevation:"0"},{default:t(()=>[d(n(e.$gettext("Edit")),1)]),_:1})]),_:1})):u("",!0),l($,null,{default:t(()=>[l(f,{onClick:a[1]||(a[1]=o=>e.remove()),"prepend-icon":"mdi-trash-can",variant:"text",elevation:"0"},{default:t(()=>[d(n(e.$gettext("Remove")),1)]),_:1})]),_:1})]),_:1})]),_:1})):u("",!0)],8,E)):e.readonly?u("",!0):(s(),p("div",R,[e.auth.can("file:view")?(s(),r(f,{key:0,onClick:a[3]||(a[3]=o=>e.vfiles=!0),title:e.$gettext("Add file"),icon:"mdi-button-cursor",variant:"text",elevation:"0"},null,8,["title"])):u("",!0),l(f,{onClick:a[4]||(a[4]=o=>e.vurls=!0),title:e.$gettext("Add file from URL"),icon:"mdi-link-variant-plus",variant:"text",elevation:"0"},null,8,["title"]),l(f,{title:e.$gettext("Upload file"),icon:"mdi-upload",variant:"text",elevation:"0"},{default:t(()=>[l(A,{modelValue:e.selected,"onUpdate:modelValue":[a[5]||(a[5]=o=>e.selected=o),a[6]||(a[6]=o=>e.add(o))],accept:e.config.accept||"video/*","hide-input":!0,"prepend-icon":"mdi-upload"},null,8,["modelValue","accept"])]),_:1},8,["title"])]))],2)]),_:1}),e.file.path?(s(),r(i,{key:0,cols:"12",md:"6",class:"meta"},{default:t(()=>[l(m,null,{default:t(()=>[l(i,{cols:"12",md:"3",class:"name"},{default:t(()=>[d(n(e.$gettext("name"))+":",1)]),_:1}),l(i,{cols:"12",md:"9"},{default:t(()=>[d(n(e.file.name),1)]),_:1})]),_:1}),l(m,null,{default:t(()=>[l(i,{cols:"12",md:"3",class:"name"},{default:t(()=>[d(n(e.$gettext("description"))+":",1)]),_:1}),l(i,{cols:"12",md:"9"},{default:t(()=>[d(n(e.description),1)]),_:1})]),_:1}),l(m,null,{default:t(()=>[l(i,{cols:"12",md:"3",class:"name"},{default:t(()=>[d(n(e.$gettext("mime"))+":",1)]),_:1}),l(i,{cols:"12",md:"9"},{default:t(()=>[d(n(e.file.mime),1)]),_:1})]),_:1}),l(m,null,{default:t(()=>[l(i,{cols:"12",md:"3",class:"name"},{default:t(()=>[d(n(e.$gettext("editor"))+":",1)]),_:1}),l(i,{cols:"12",md:"9"},{default:t(()=>[d(n(e.file.editor),1)]),_:1})]),_:1}),l(m,null,{default:t(()=>[l(i,{cols:"12",md:"3",class:"name"},{default:t(()=>[d(n(e.$gettext("updated"))+":",1)]),_:1}),l(i,{cols:"12",md:"9"},{default:t(()=>[d(n(new Date(e.file.updated_at).toLocaleString()),1)]),_:1})]),_:1})]),_:1})):u("",!0)]),_:1}),(s(),r(V,{to:"body"},[l(k,{modelValue:e.vfiles,"onUpdate:modelValue":a[7]||(a[7]=o=>e.vfiles=o),onAdd:a[8]||(a[8]=o=>{e.handle(o),e.vfiles=!1}),filter:{mime:"video/"}},null,8,["modelValue"])])),(s(),r(V,{to:"body"},[l(y,{modelValue:e.vurls,"onUpdate:modelValue":a[9]||(a[9]=o=>e.vurls=o),onAdd:a[10]||(a[10]=o=>{e.select(o),e.vurls=!1}),mime:"video/"},null,8,["modelValue"])]))],64)}const J=C(N,[["render",T],["__scopeId","data-v-165c71a8"]]);export{J as default};
