import v from"./File-BV0MxLWa.js";import{_ as C,c as p,a as t,b as r,w as a,V as u,r as g,T as V,F,o as d,d as m,e as i,f as $,n as U,g as b,h as f,i as w,j as D,k as s,t as n}from"../index.js";import"./FileListItems-MigusJ7k.js";import"./utils-DxnQAr0v.js";import"./FileDialog-DgBVR8x_.js";const A={extends:v,setup(){return{...v.setup()}}},B=["src"],N={key:1,class:"file"};function L(e,l,R,T,S,j){const k=g("FileDialog"),y=g("FileUrlDialog");return d(),p(F,null,[t(u,null,{default:a(()=>[t(i,{cols:"12",md:"6"},{default:a(()=>[$("div",{class:U(["files",{readonly:e.readonly}])},[e.file.path?(d(),p("div",{key:0,class:"file",onClick:l[1]||(l[1]=o=>e.open(e.file))},[e.file.uploading?(d(),r(b,{key:0,color:"primary",height:"5",indeterminate:"",rounded:""})):m("",!0),$("audio",{controls:"",draggable:!1,src:e.url(e.file.path)},null,8,B),!e.readonly&&e.file.path?(d(),r(f,{key:1,onClick:l[0]||(l[0]=w(o=>e.remove(),["stop"])),title:e.$gettext("Remove file"),icon:"mdi-trash-can",class:"btn-overlay",variant:"flat"},null,8,["title"])):m("",!0)])):e.readonly?m("",!0):(d(),p("div",N,[e.auth.can("file:view")?(d(),r(f,{key:0,onClick:l[2]||(l[2]=o=>e.vfiles=!0),title:e.$gettext("Add file"),icon:"mdi-button-cursor",variant:"flat"},null,8,["title"])):m("",!0),t(f,{onClick:l[3]||(l[3]=o=>e.vurls=!0),title:e.$gettext("Add file from URL"),icon:"mdi-link-variant-plus",variant:"flat"},null,8,["title"]),t(f,{title:e.$gettext("Upload file"),icon:"mdi-upload",variant:"flat"},{default:a(()=>[t(D,{modelValue:e.selected,"onUpdate:modelValue":[l[4]||(l[4]=o=>e.selected=o),l[5]||(l[5]=o=>e.add(o))],accept:e.config.accept||"audio/*","hide-input":!0,"prepend-icon":"mdi-upload"},null,8,["modelValue","accept"])]),_:1},8,["title"])]))],2)]),_:1}),e.file.path?(d(),r(i,{key:0,cols:"12",md:"6",class:"meta"},{default:a(()=>[t(u,null,{default:a(()=>[t(i,{cols:"12",md:"3",class:"name"},{default:a(()=>[s(n(e.$gettext("name"))+":",1)]),_:1}),t(i,{cols:"12",md:"9"},{default:a(()=>[s(n(e.file.name),1)]),_:1})]),_:1}),t(u,null,{default:a(()=>[t(i,{cols:"12",md:"3",class:"name"},{default:a(()=>[s(n(e.$gettext("mime"))+":",1)]),_:1}),t(i,{cols:"12",md:"9"},{default:a(()=>[s(n(e.file.mime),1)]),_:1})]),_:1}),t(u,null,{default:a(()=>[t(i,{cols:"12",md:"3",class:"name"},{default:a(()=>[s(n(e.$gettext("editor"))+":",1)]),_:1}),t(i,{cols:"12",md:"9"},{default:a(()=>[s(n(e.file.editor),1)]),_:1})]),_:1}),t(u,null,{default:a(()=>[t(i,{cols:"12",md:"3",class:"name"},{default:a(()=>[s(n(e.$gettext("updated"))+":",1)]),_:1}),t(i,{cols:"12",md:"9"},{default:a(()=>[s(n(new Date(e.file.updated_at).toLocaleString()),1)]),_:1})]),_:1})]),_:1})):m("",!0)]),_:1}),(d(),r(V,{to:"body"},[t(k,{modelValue:e.vfiles,"onUpdate:modelValue":l[6]||(l[6]=o=>e.vfiles=o),onAdd:l[7]||(l[7]=o=>{e.handle(o),e.vfiles=!1}),filter:{mime:"audio/"}},null,8,["modelValue"])])),(d(),r(V,{to:"body"},[t(y,{modelValue:e.vurls,"onUpdate:modelValue":l[8]||(l[8]=o=>e.vurls=o),onAdd:l[9]||(l[9]=o=>{e.select(o),e.vurls=!1}),mime:"audio/"},null,8,["modelValue"])]))],64)}const q=C(A,[["render",L]]);export{q as default};
